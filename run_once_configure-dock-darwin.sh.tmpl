#!/usr/bin/env bash
# shellcheck disable=SC1083 # chezmoi template placeholders use {{ ... }} syntax.
set -euo pipefail

echo "Configuring Dock..."

defaults write com.apple.dock tilesize -int {{ .dock.size }}
defaults write com.apple.dock autohide -bool {{ .dock.autohide }}
defaults write com.apple.dock autohide-delay -float {{ .dock.autohide_delay }}
defaults write com.apple.dock autohide-time-modifier -float {{ .dock.animation_speed }}
defaults write com.apple.dock show-recents -bool {{ .dock.show_recents }}
defaults write com.apple.dock mineffect -string "{{ .dock.minimize_effect }}"
defaults write com.apple.dock minimize-to-application -bool {{ .dock.minimize_to_application }}
defaults write com.apple.dock show-process-indicators -bool {{ .dock.show_process_indicators }}

killall Dock || true
echo "✅ Dock configuré (taille {{ .dock.size }}px)"
